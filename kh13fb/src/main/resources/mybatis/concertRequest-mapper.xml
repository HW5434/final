<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="concertRequest">
		
    	
    	
    	<select id="sequence" resultType="int">
    		select concert_request_seq.nextval from dual
    	</select>
    	
    	<select id="list" resultType="ConcertRequestDto">
			select * from concert_request order by concert_request_no asc
		</select>
		
		<!-- 정보값추가-->
		<insert id="register">
			insert into concert_request(
				concert_request_no, applicant(), concert(), rent()
			)
				values(#{concertRequestNo}, #{applicant.applicant}, 	#{conceret.concertId}, #{rent.rentId})
		</insert>
		
		<select id="find" resultType="concertRequestDto">
     	   select * from concert_request where concert_request_no = #{concertRequestNo}
  	  </select>
    
    
    	<!-- 지혜 -->
    	<update id="editUnit">
  			  update concert_request
        	<set> 
        		concert_request_state = #{concertRequestState},
        		concert_request_no = #{concertRequestNo}
    		</set>
    			where concert_request_no = #{concertRequestNo}
		</update>
    
    	<delete id="delete">
    		delete concert_request where concert_request_no = #{concertRequestNo}
    	</delete>
    
    
    
    </mapper>